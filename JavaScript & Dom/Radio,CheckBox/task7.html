<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <h2>Quiz Competition Team Selection</h2>  
    <div id="applicant"></div>
    <div id="team"></div>
    <script>
      let applicant = [ "Jack",  "Tim", "Bob", "Mary", "Anna", "Martha", "Steve", "Ed", "John", "Sid", ];

      function checkbox(id, arr) {
        let r1 = arr.map(function (val, index) {
          return (
            '<input type="checkbox" onchange="updateTeam()" id="' +
            id +
            index +
            '">' +
            val +
            "<br/>"
          );
        });
        return r1.join("");
      }

      document.getElementById("applicant").innerHTML = checkbox("x", applicant);

      function updateTeam() {
        let teamSizeLimit = 5;
        let selectedCount = 0;
        let arr = [];

        for (let i = 0; i < applicant.length; i++) {
          let checkbox = document.getElementById("x" + i);
          if (selectedCount < teamSizeLimit) {
            if (checkbox.checked) {
              arr.push(applicant[i]);
              selectedCount++;
            }
          } else {
            checkbox.checked = false;
            checkbox.disabled = true;
          }
          let index = applicant.indexOf(arr[i]);
          if (index !== -1) {
            applicant.splice(index, 1);
          }
        }

        let teamSection = document.getElementById("team");

        let s1 = "<h3>Team</h3>";
        s1 += "<p>Size: " + arr.length + "</p>";
        s1 += "<ul><li>" + arr.join("</li><li>") + "</li></ul>";
        teamSection.innerHTML = s1;
      }
      document.getElementById("applicant").innerHTML = checkbox("x", applicant);
    </script>
  </body>
</html>
